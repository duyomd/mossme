let _rootId,_parentId;function initEntryManager(e){window.addEventListener("load",()=>{initTable({FIELDS_FETCH:["id","parent_id","root_id","section_id","section_name","type","serials","enumeration","image_id_header","image_id_content","image_id_commentary","image_id_footer","image_url_header","image_url_content","image_url_commentary","image_url_footer","image_name_header","image_name_content","image_name_commentary","image_name_footer","reference_source","reference_url","video_url","sequence","tags","children_groupable","children_groupable_name","status","status_name","created_by"],FIELDS_TABLE:[{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"id"},{CONTENT_TYPE:CONTENT_TYPES.LINK,CONTENT_FIELD:'item.type == 1 ? "" : "<i class=\'folder\'></i>";',CONTENT_FIELD_EXTRA:getFolderUrl("item.id")},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"section_name"},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"root_id"},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"parent_id"},{CONTENT_TYPE:CONTENT_TYPES.BOX,CONTENT_FIELD:"item.id",CONTENT_FIELD_BOX_LABELS:[e.MSG_TRANSLATIONS,e.MSG_COMMENTARIES,e.MSG_VIEW],CONTENT_FIELD_BOX_HREFS:[getTranslationUrl("item.id"),getCommentaryUrl("item.id"),getViewUrl("item.id")]},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"serials",CONTENT_FIELD_STICKY:"true",CONTENT_FIELD_TRIM:3},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"enumeration"},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"children_groupable_name"},{CONTENT_TYPE:CONTENT_TYPES.LINK,CONTENT_FIELD:"item.image_name_header",CONTENT_FIELD_EXTRA_HASH:'"content-modal"',CONTENT_FIELD_EXTRA_END:'data-bs-toggle="modal"',CONTENT_FIELD_EXTRA_ONCLICK:'"setModalContent(`" + encodeURIComponent(item.image_name_header) + "`,`" + encodeURIComponent(item.image_url_header) + "`)"'},{CONTENT_TYPE:CONTENT_TYPES.LINK,CONTENT_FIELD:"item.image_name_content",CONTENT_FIELD_EXTRA_HASH:'"content-modal"',CONTENT_FIELD_EXTRA_END:'data-bs-toggle="modal"',CONTENT_FIELD_EXTRA_ONCLICK:'"setModalContent(`" + encodeURIComponent(item.image_name_content) + "`,`" + encodeURIComponent(item.image_url_content) + "`)"'},{CONTENT_TYPE:CONTENT_TYPES.LINK,CONTENT_FIELD:"item.image_name_commentary",CONTENT_FIELD_EXTRA_HASH:'"content-modal"',CONTENT_FIELD_EXTRA_END:'data-bs-toggle="modal"',CONTENT_FIELD_EXTRA_ONCLICK:'"setModalContent(`" + encodeURIComponent(item.image_name_commentary) + "`,`" + encodeURIComponent(item.image_url_commentary) + "`)"'},{CONTENT_TYPE:CONTENT_TYPES.LINK,CONTENT_FIELD:"item.image_name_footer",CONTENT_FIELD_EXTRA_HASH:'"content-modal"',CONTENT_FIELD_EXTRA_END:'data-bs-toggle="modal"',CONTENT_FIELD_EXTRA_ONCLICK:'"setModalContent(`" + encodeURIComponent(item.image_name_footer) + "`,`" + encodeURIComponent(item.image_url_footer) + "`)"'},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"status_name"},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"tags"},{CONTENT_TYPE:CONTENT_TYPES.LINK,CONTENT_FIELD:"item.video_url",CONTENT_FIELD_EXTRA:"item.video_url",CONTENT_FIELD_SHORT_URL:"true"},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"reference_source"},{CONTENT_TYPE:CONTENT_TYPES.LINK,CONTENT_FIELD:"item.reference_url",CONTENT_FIELD_EXTRA:"item.reference_url",CONTENT_FIELD_SHORT_URL:"true"},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"created_by"},{CONTENT_TYPE:CONTENT_TYPES.TEXT,CONTENT_FIELD:"sequence",CONTENT_FIELD_EXTRA_SORT:"sequence"}],FIELDS_TABLE_HEADER:["","",e.MSG_SECTION,e.MSG_ROOT,e.MSG_PARENT,e.MSG_ID,e.MSG_SERIALS,e.MSG_ENUMERATION,e.MSG_CHILDREN_GROUPABLE,e.MSG_IMAGE_HEADER,e.MSG_IMAGE_CONTENT,e.MSG_IMAGE_COMMENTARY,e.MSG_IMAGE_FOOTER,e.MSG_STATUS,e.MSG_TAGS,e.MSG_VIDEO_URL,e.MSG_REF_SOURCE,e.MSG_REF_URL,e.MSG_CREATED_BY,e.MSG_SEQUENCE],FIELDS_TABLE_ORDERBYS:["","",e.ORDER_SECTION,e.ORDER_ROOT,e.ORDER_PARENT,e.ORDER_ID,e.ORDER_SERIALS,e.ORDER_ENUMERATION,e.ORDER_CHILDREN_GROUPABLE,e.ORDER_IMAGE_HEADER,e.ORDER_IMAGE_CONTENT,e.ORDER_COMMENTARY,e.ORDER_FOOTER,e.ORDER_STATUS,e.ORDER_TAGS,e.ORDER_VIDEO_URL,e.ORDER_REF_SOURCE,e.ORDER_REF_URL,e.ORDER_CREATED_BY,e.ORDER_SEQUENCE],RADIO_SHOW_BUTTON_IDS:["btn-modify","btn-delete"],noMove:!1}),_rootId=e.rootId,_parentId=e.parentId,autofillForm()})}function setModalContent(e,E){document.querySelector("#content-modal-header").innerHTML=decodeURIComponent(e),document.querySelector("#content-modal-body").src=decodeURIComponent(E)}function getFolderUrl(e){return"'/entries/conditions={&quot;parentId&quot;:&quot;' + "+e+" + '&quot;}'"}function getTranslationUrl(e){return"'/translations/conditions={&quot;entryId&quot;:&quot;' + "+e+" + '&quot;}'"}function getCommentaryUrl(e){return"'/commentaries/conditions={&quot;entryId&quot;:&quot;' + "+e+" + '&quot;}'"}function getViewUrl(e){return"'/article/' + "+e}function upOneLevel(parentId){var url="/entries";parentId&&"''"!=parentId&&(url=eval(getFolderUrl(parentId)).replaceAll("&quot;",'"')),window.location=url}function extraCallback(e){fillAncestors()}const idEle=document.querySelector("#id"),refNameEle=document.querySelector("#reference_source"),refUrlEle=document.querySelector("#reference_url"),enumEle=document.querySelector("#enumeration"),seriEle=document.querySelector("#serials");function fillReferenceUrl(){if("sutta central"!==refNameEle.value.trim().toLowerCase())return;let e=idEle.value;if(null!=e&&!(e.length<2)){e=e.trim();var E=["sn","an"];if(startsWithAnyOfArr(e,E)&&e.length>3&&e.indexOf(".")>=2&&!e.endsWith(".")&&/^[\d-]+$/.test(e.slice(e.indexOf(".")+1))||startsWithAnyOfArr(e,E=["dn","mn"])&&e.length>2&&/^\d+$/.test(e.slice(2))){refUrlEle.value="https://suttacentral.net/"+e+"/en/sujato?lang=en&layout=linebyline&reference=main&notes=sidenotes&highlight=false&script=latin",enumEle.value=e.toUpperCase();return}E=["da","ma"]}}function fillSerials(){let e=idEle.value;null==e||e.length<2||(seriEle.value.length>=e.length?seriEle.value=e+seriEle.value.slice(e.length):seriEle.value=e)}function fillAncestors(){document.querySelector("#root_id").value=_rootId,document.querySelector("#parent_id").value=_parentId}function autofillForm(){autofillRef(),autofillSerials(),autofillAncestors()}function autofillRef(){addEvent(idEle,"change",fillReferenceUrl),addEvent(refNameEle,"change",fillReferenceUrl)}function autofillSerials(){addEvent(idEle,"change",fillSerials)}function autofillAncestors(){fillAncestors()}